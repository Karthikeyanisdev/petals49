<!DOCTYPE html>
<html>
<head>
  <title>Message Sender</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 100px; }
    input, button { padding: 10px; margin: 5px; width: 250px; }
  </style>
</head>
<body>
  <h2>petals49</h2>
  <input id="msg" type="text" placeholder="Type your message...">
  <button onclick="sendMessage()">Send</button>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCHWbc5zAwpgddZIB4ZqJIiRtRE17SB2go",
      databaseURL: "https://petals49-c1149-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "petals49-c1149"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    async function sendMessage() {
      const text = document.getElementById("msg").value;
      const now = new Date().toLocaleString();
      const snapshot = await get(ref(db, "messages"));
      let messages = snapshot.exists() ? snapshot.val() : [];
      messages.push({ text, time: now });
      await set(ref(db, "messages"), messages);
      alert("Message sent!");
    }
  </script>
</body>
</html>
